
<mat-card>
  <h2>Create new lobby</h2>
  <form (ngSubmit)="this.createNewLobby()">
<!--    <label>-->
<!--      Name for new lobby:-->
      <mat-form-field style="width: 100%">
        <input matInput placeholder="Name for new lobby" [(ngModel)]="this.newLobbyName" name="input-message">
      </mat-form-field>
<!--      <input type="text" [(ngModel)]="this.newLobbyName" name="input-message" />-->
<!--    </label>-->
    <button mat-raised-button color="primary">Create new lobby</button>
<!--    <button type="submit">Create new lobby</button>-->
  </form>
</mat-card>

<h2>Open lobbies</h2>
<ng-container>
  <div *ngFor="let lobby of lobbyService.waitingLobbies" style="border: solid black 1px;">
    <h3>{{lobby.name}}</h3>
    <p>Leader: {{lobby.leader.username}}</p>
    <p>Players:</p>
    <ul>
      <li
        *ngFor="let player of lobby.players">{{player.username}}</li>
    </ul>

    <ng-container *ngIf="this.isCurrentLeaderOfLobby(lobby)">
      <button (click)="this.startGame(lobby)">Start game</button>
    </ng-container>

    <ng-container *ngIf="this.lobbyService.selectedLobby == null">
      <button (click)="this.joinLobby(lobby)">Join lobby</button>
    </ng-container>

    <ng-container *ngIf="lobby == this.lobbyService.selectedLobby">
      <button (click)="this.leaveCurrentJoinedLobby()">Leave lobby</button>
    </ng-container>
  </div>
</ng-container>
